# Redis Sentinel Configuration for High Availability

# Sentinel port
port 26379

# Sentinel working directory
dir /tmp

# Sentinel monitor configuration
# Format: sentinel monitor <master-name> <ip> <port> <quorum>
sentinel monitor mymaster redis-cluster 6379 2

# Sentinel authentication (if Redis has password)
sentinel auth-pass mymaster AccountantAI_Redis_2025!

# Sentinel down-after-milliseconds
# Time in milliseconds before a master is considered down
sentinel down-after-milliseconds mymaster 30000

# Sentinel parallel-syncs
# Number of slaves that can be reconfigured at the same time
sentinel parallel-syncs mymaster 1

# Sentinel failover-timeout
# Time in milliseconds before a failover is considered failed
sentinel failover-timeout mymaster 180000

# Sentinel notification-script (optional)
# sentinel notification-script mymaster /path/to/notification.sh

# Sentinel client-reconfig-script (optional)
# sentinel client-reconfig-script mymaster /path/to/reconfig.sh

# Logging
loglevel notice
logfile /var/log/redis/sentinel.log

# Protected mode
protected-mode yes

# Bind address
bind 0.0.0.0

# Announce IP and port (for Docker)
# sentinel announce-ip <external-ip>
# sentinel announce-port 26379
